<Window x:Class="AgentConnect.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:AgentConnect"
        mc:Ignorable="d"
        Title="AgentConnect" Height="450" Width="700"
        Background="{DynamicResource WindowBackgroundBrush}">
    <Grid x:Name="RootGrid">
        <Grid.RowDefinitions>
            <RowDefinition Height="48"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Header Bar -->
        <Border Grid.Row="0"
                Background="{DynamicResource HeaderBackgroundBrush}"
                BorderBrush="{DynamicResource HeaderBorderBrush}"
                BorderThickness="0,0,0,1">
            <Grid Margin="16,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- App Title -->
                <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center">
                    <Ellipse Width="24" Height="24" Margin="0,0,10,0">
                        <Ellipse.Fill>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                <GradientStop Color="#0078D4" Offset="0"/>
                                <GradientStop Color="#00B4FF" Offset="1"/>
                            </LinearGradientBrush>
                        </Ellipse.Fill>
                    </Ellipse>
                    <TextBlock Text="AgentConnect"
                               FontSize="16"
                               FontWeight="SemiBold"
                               Foreground="{DynamicResource PrimaryTextBrush}"
                               VerticalAlignment="Center"/>
                </StackPanel>

                <!-- Update Available Button -->
                <Button x:Name="UpdateAvailableButton"
                        Grid.Column="2"
                        Click="UpdateAvailableButton_Click"
                        VerticalAlignment="Center"
                        Margin="0,0,12,0"
                        Cursor="Hand"
                        Visibility="Collapsed"
                        ToolTip="A new version is available">
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <Border x:Name="ButtonBorder"
                                    Background="#0078D4"
                                    CornerRadius="6"
                                    Padding="10,6">
                                <StackPanel Orientation="Horizontal">
                                    <!-- Download/Update arrow icon -->
                                    <Path Width="14" Height="14"
                                          Stretch="Uniform"
                                          Fill="White"
                                          VerticalAlignment="Center"
                                          Data="M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z"/>
                                    <TextBlock Text="Update Available"
                                               Margin="6,0,0,0"
                                               FontSize="12"
                                               FontWeight="SemiBold"
                                               Foreground="White"
                                               VerticalAlignment="Center"/>
                                </StackPanel>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter TargetName="ButtonBorder" Property="Background" Value="#106EBE"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Button.Template>
                </Button>

                <!-- Theme Toggle Button -->
                <Button x:Name="ThemeToggleButton"
                        Grid.Column="3"
                        Click="ThemeToggleButton_Click"
                        VerticalAlignment="Center"
                        Cursor="Hand"
                        ToolTip="Toggle light/dark theme">
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <Border x:Name="ButtonBorder"
                                    Background="Transparent"
                                    CornerRadius="6"
                                    Padding="8,6">
                                <StackPanel Orientation="Horizontal">
                                    <!-- Sun icon (light mode) -->
                                    <Path x:Name="SunIcon"
                                          Width="18" Height="18"
                                          Stretch="Uniform"
                                          Fill="{DynamicResource SecondaryTextBrush}"
                                          Data="M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0 c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2 c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1 S11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0 s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06 c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41 c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36 c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/>
                                    <!-- Moon icon (dark mode) -->
                                    <Path x:Name="MoonIcon"
                                          Width="18" Height="18"
                                          Stretch="Uniform"
                                          Fill="{DynamicResource SecondaryTextBrush}"
                                          Visibility="Collapsed"
                                          Data="M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36c-0.98,1.37-2.58,2.26-4.4,2.26 c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/>
                                    <TextBlock x:Name="ThemeText"
                                               Text="Light"
                                               Margin="6,0,0,0"
                                               FontSize="13"
                                               Foreground="{DynamicResource SecondaryTextBrush}"
                                               VerticalAlignment="Center"/>
                                </StackPanel>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter TargetName="ButtonBorder" Property="Background" Value="{DynamicResource ButtonHoverBrush}"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Button.Template>
                </Button>
            </Grid>
        </Border>

        <!-- Main content area -->
        <Grid x:Name="MainContent" Grid.Row="1">
            <!-- Your main content goes here -->

            <!-- Debug button for testing UpdatePromptWindow -->
            <Button x:Name="DebugUpdateButton"
                    Content="Test Update Prompt"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Top"
                    Margin="10"
                    Padding="10,5"
                    Visibility="Collapsed"
                    Click="DebugUpdateButton_Click"/>
        </Grid>
    </Grid>
</Window>
